<section class="workbench">
    <div class="page-header">
	    <h1>Showing Data For Dataset.</h1>
	</div>

	<div class="row" ng-show="Workbench.usersDatasets.length > 0">
		<div class="graph col-md-6">
			<select 
				class="form-control"
				ng-options="dataset as dataset.title for dataset in Workbench.usersDatasets track by dataset._id" 
				ng-model="Workbench.ds1.data"
				ng-change="Workbench.loadDataset('ds1')"></select>
		</div>
		
		<div class="datasets-list col-md-6">
			<select 
				class="form-control"
				ng-options="dataset as dataset.title for dataset in Workbench.usersDatasets track by dataset._id" 
				ng-model="Workbench.ds2.data"
				ng-change="Workbench.loadDataset('ds2')"></select>
		</div>
	</div>

	<div class="row">
		<div class="col-md-6">
			<!-- <h3>{{ Workbench.viewingDataset.title }}</h3> -->
			<div class="data-loading">
				<i 
		    		ng-hide="Workbench.ds1.hasLoadedData" 
		    		class="glyphicon glyphicon-hourglass"></i>
			</div>

			<div class="table-container" ng-if="Workbench.ds1.hasLoadedData">
				<table cellspacing="0" width="100%" class="table" datatable="" dt-options="Workbench.ds1.tableOptions" dt-column-defs="Workbench.ds1.tableColumnDefs">
					<thead>
						<tr>
							<th ng-repeat="column in Workbench.ds1.columns">
								{{ column }}
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="row in Workbench.ds1.rows">
							<td 
								ng-repeat="column in Workbench.ds1.columns" 
								ng-show="row[column] && row[column].length > 0">
								{{ row[column] }}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="col-md-6">
			<!-- <h3>{{ Workbench.selectedDatasetOption.title }}</h3> -->
			<div class="data-loading">
				<i 
		    		ng-hide="Workbench.ds2.hasLoadedData" 
		    		class="glyphicon glyphicon-hourglass"></i>
			</div>

			<div class="table-container"  ng-if="Workbench.ds2.hasLoadedData">
				<table cellspacing="0" width="100%" class="table" datatable="" dt-options="Workbench.ds2.tableOptions" dt-column-defs="Workbench.ds2.tableColumnDefs">
					<thead>
						<tr>
							<th ng-repeat="column in Workbench.ds2.columns">
								{{ column }}
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="row in Workbench.ds2.rows">
						<td ng-repeat="column in Workbench.ds2.columns">{{ row[column] }}</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>

		<div class="col-md-12">
		    <button class="btn btn-success btn-sm" ng-click="Workbench.addtoUser()">Save to My Canvas</button>
		    <button class="btn btn-danger btn-sm" ng-click="Workbench.cancel()">Cancel</button>
		</div>

	</div><!-- row -->
</section>
