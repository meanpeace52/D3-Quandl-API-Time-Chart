<section>
    <div class="page-header">
        <h1>Datasets</h1>
    </div>

    <form class="datasets-search-container" ng-submit="DatasetsList.search()">
	    <input class="form-control" type="text" ng-model="DatasetsList.q">
	    <button 
	    	ng-click="DatasetsList.search()" 
	    	class="btn btn-secondary pull-right" 
	    	type="button">
	    	<i 
	    		ng-hide="DatasetsList.loadingResults" 
	    		class="glyphicon glyphicon-search"></i>
	    	<i 
	    		ng-show="DatasetsList.loadingResults" 
	    		class="glyphicon glyphicon-hourglass"></i>
	    </button>
	</form>

    <div class="list-group">
        <div data-ng-repeat="dataset in DatasetsList.searchResults" class="list-group-item">
            <small class="list-group-item-text">
                Title:
                <span data-ng-bind-html="DatasetsList.showTitle (dataset.title)"></span>
                Source:
                <span ng-bind="dataset.source"></span>
                <span ng-bind="dataset.user.displayName"></span>

            </small>
            <h4 class="list-group-item-heading" ng-bind="dataset.name"></h4>
            <button class="btn btn-secondary" ng-click="DatasetsList.addToUser(dataset)">Save to my LAB</button>
            <a class="btn btn-primary" ng-click="DatasetsList.showData(dataset)">View </a>
        </div>

    </div>
    <div class="alert alert-warning text-center"
         ng-hide="!DatasetsList.searchResults.$resolved || DatasetsList.searchResults.length">
        No Datasets yet, why don't you <a href="/datasets/create">create one</a>?
    </div>
</section>

