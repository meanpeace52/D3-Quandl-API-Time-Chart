<section ng-class="{'modal-view' : DatasetsList.modal}">
    <div class="row">
        <div class="col-md-12 page-header">
            <span class="h2 pull-left">Datasets</span>
            <a ng-if="DatasetsList.ownership || DatasetsList.showCreate" data-ui-sref="datasets.create" class="h4 pull-right header-secondary-title">Create Dataset</a>
        </div>
    </div>

    <form ng-if="DatasetsList.state === 'datasets.list' || DatasetsList.state === 'datasets.search'" ng-submit="DatasetsList.search()" class="datasets-search-container">
        <input class="form-control" type="text" ng-model="DatasetsList.q">
        <button ng-click="DatasetsList.search()" class="btn btn-secondary" type="button">
	    	<i
	    		ng-hide="DatasetsList.loading"
	    		class="glyphicon glyphicon-search"></i>
	    	<i
	    		ng-show="DatasetsList.loading"
	    		class="glyphicon glyphicon-hourglass"></i>
	    </button>
    </form>

    <div class="list-group">
        <span data-ng-repeat="dataset in DatasetsList.list track by $index" class="list-group-item">
            <small class="list-group-item-text">
                Title:
                <span data-ng-bind="dataset.title" ng-class="{'active': DatasetsList.showTitle (dataset.title)}"></span> <span ng-if="DatasetsList.user._id != dataset.user">Source:
                <span ng-bind="dataset.user.username"></span></span>
        </small>
        <span class="h4 list-group-item-heading" ng-bind="dataset.name"></span>
        <span ng-if="!Datasetslist.modal">
            <button data-ng-if="DatasetsList.user._id != dataset.user && DatasetsList.user._id != dataset.user._id" class="btn btn-secondary" ng-click="DatasetsList.addToUser(dataset)">Save to my LAB</button>
            <a class="btn btn-primary" ui-sref="datasets.detail({datasetId: dataset._id})" class="pull-right">View</a>
            <a data-ng-if="DatasetsList.user._id == dataset.user" class="btn btn-default" ui-sref="datasets.edit({datasetId:dataset._id})" class="pull-right">Edit</a>
            <a data-ng-if="DatasetsList.user._id == dataset.user" class="btn btn-default" ng-click="DatasetsList.deleteDataset(dataset)" class="pull-right">Delete</a>
        </span>
        <button ng-if="DatasetsList.modal" ng-click="vm.ok(dataset)" data-ng-disabled="vm.selectedData.indexOf(dataset._id) !== -1" class="btn btn-small btn-default pull-right">Select</button>
        </span>
    </div>

    </div>
    <div class="alert alert-warning text-center" ng-show="!DatasetsList.list.length && DatasetsList.resolved">
        No datasets found.
    </div>
</section>
