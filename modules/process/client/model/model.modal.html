<div class="modal-body">
  <div class="container-fluid">
  <ul class="nav nav-tabs" data-tabs="tabs">
      <li ng-repeat="item in ModelModal.tabs" ng-class="{'active' : item == ModelModal.activeTab }" ng-click="ModelModal.changeTab(item)">
          <a data-ng-bind="item" data-toggle="tab" href=""></a>
      </li>
  </ul>
  <div class="tab-content">
      <div role="tabpanel" ng-repeat="item in ModelModal.tabs" ng-class="{'active' : item == ModelModal.activeTab }" class="tab-pane">
          <div ng-if="item == 'Dataset'">
              <div ng-if="ModelModal.dataset">
                  <p>The dataset has been modified!</p>
              </div>
          </div>
          <div ng-if="item == 'Model'">
              <div>
                  <p><strong>Type:</strong> {{ModelModal.model.type}}</p>
                  <p><strong>Equation:</strong> {{ModelModal.model.equation}}</p>
                  <p><strong>Full Summary Output:</strong> <pre ng-bind-html="ModelModal.model.output"></pre></p>
                  <p><strong>Error/Goodness of Fit Stats:</strong> N/A</p>
              </div>
              <div>
                  <form class="form-inline">
                      <div class="form-group">
                          <label for="title">Model Title:</label>
                          <input type="text" class="form-control" id="title" ng-model="ModelModal.model.title">
                      </div>
                      <div class="form-group">
                          <label for="access">Access:</label>
                          <select class="form-control" ng-model="ModelModal.model.access">
                              <option value="public">Public</option>
                              <option value="paid">For Sale</option>
                              <option value="private">Private</option>
                          </select>
                      </div>
                  </form>
              </div>
          </div>
          <div ng-if="item == 'Transformation Steps'">
              <div ng-repeat="task in ModelModal.tasks">
                  <h4>{{$index + 1}}) {{task.title}}</h4>
                  <div ng-if="task.title == 'Initial Transformations'">
                      <ul class="list-unstyled transformsteps" style="overflow: auto;">
                          <li ng-repeat="step in task.options.transformSteps" class="{{ step.type }}">
                              <div ng-if="step.source == 'modeldataset'">
                                  <strong>Merge with source model dataset:</strong> Model name: {{ step.model.title }} Key Column: {{ step.keyfield }} Destination Key Column: {{ step.keyfield }} Columns Included: {{ step.selectedcolumns.join(', ') }}
                              </div>
                              <div ng-if="step.source == 'dataset'">
                                  <strong>Merge with source dataset: </strong> Dataset name: {{ step.dataset.title }} Key Column: {{ step.keyfield }} Destination Key Column: {{ step.keyfield }} Columns Included: {{ step.selectedcolumns.join(', ') }}
                              </div>
                              <div ng-if="step.type == 'drop'">
                                  <strong>Drop Columns:</strong> {{ step.columnnames.join(', ') }}
                              </div>
                              <div ng-if="step.type == 'rename'">
                                  <strong>Renamed Columns:</strong> {{ step.newcolumnnames.join(', ') }}
                              </div>
                          </li>
                      </ul>
                  </div>
                  <div ng-if="task.options && task.title != 'Initial Transformations'">
                    <p ng-repeat="(key, value) in task.options"><strong>{{ key }}:</strong> {{value}}</p>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
<div class="modal-footer">

  <div class="row" ng-if="ModelModal.dataset">
    <div class="col-md-12">
      <form class="form-inline">
        <div class="form-group">
          <label>Dataset Title:</label>
          <input type="text" ng-model="ModelModal.dataset.title" class="form-control" />
        </div>
        <div class="form-group">
          <label>Access:</label>
          <select class="form-control" ng-model="ModelModal.dataset.access">
            <option value="public">Public</option>
            <option value="sale">For Sale</option>
            <option value="private">Private</option>
          </select>
        </div>
      </form>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <button class="btn btn-primary" ng-disabled="ModelModal.saving" ng-click="ModelModal.save()">
        <span ng-if="!ModelModal.saving">Save</span>
        <span ng-if="ModelModal.saving">Saving...</span>
      </button>
      <button class="btn btn-danger" ng-click="ModelModal.discard()">Discard</button>
    </div>
  </div>

</div>
