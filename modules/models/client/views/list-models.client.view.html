<section ng-class="{'modal-view' : vm.modal}">
    <div class="row">
      <div class="col-md-12 page-header">
        <span class="h2 pull-left">Models</span>
        <a data-ng-if="vm.ownership" data-ui-sref="models.create" class="header-secondary-title h4 pull-right">Create Model</a>
      </div>
    </div>
  </div>
  <form ng-if="vm.state === 'models.list'" ng-submit="vm.search()" class="datasets-search-container">
    <input class="form-control" type="text" ng-model="vm.q">
    <button ng-click="vm.search()" class="btn btn-secondary pull-right" type="button">
	    	<i 
	    		ng-hide="vm.loading" 
	    		class="glyphicon glyphicon-search"></i>
	    	<i 
	    		ng-show="vm.loading" 
	    		class="glyphicon glyphicon-hourglass"></i>
	    </button>
  </form>

  <div class="list-group">
    <a data-ng-if="!vm.modal" data-ng-repeat="model in vm.list track by $index" class="list-group-item" data-ui-sref="models.view({modelId: model._id})">
      <span class="list-group-item-heading h4" data-ng-bind="model.title"></span>
      <br/>
      <small class="list-group-item-text">
        Created on <span data-ng-bind="model.created | date:'mediumDate'"></span> by
    <span data-ng-if="model.user" data-ng-bind="model.user.displayName"></span>
    <span data-ng-if="!model.user">Deleted User</span>
    </small>
    </a>
    <div data-ng-if="vm.modal" data-ng-repeat="model in vm.list track by $index" class="list-group-item">
      <span class="h4 list-group-item-heading" data-ng-bind="model.title"></span>
      <button ng-if="vm.modal" ng-click="vm.ok(model)" data-ng-disabled="vm.selectedData.indexOf(model._id) !== -1" class="btn btn-small btn-default pull-right">Select</button>
      <br/>
      <small class="list-group-item-text">
        Created on <span data-ng-bind="model.created | date:'mediumDate'"></span> by
    <span data-ng-if="model.user" data-ng-bind="model.user.displayName"></span>
    <span data-ng-if="!model.user">Deleted User</span>
    </small>
    </div>
  </div>
  <div class="alert alert-warning text-center" ng-show="!vm.list.length && vm.resolved">
    No models found.
  </div>
</section>
